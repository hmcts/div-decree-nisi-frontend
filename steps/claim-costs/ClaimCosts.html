{% extends "question.njk" %}

{% from "look-and-feel/components/fields.njk" import formSection, selectionButtons, errorClass, errorsFor %}

{% set title %}
  {{ content.title | safe }}
{% endset %}

{% block fields %}

  <p class="text">{{ content.applicationYouAsked | safe }}</p>
  <p class="text">{{ content.yourSpouseHas | safe }}</p>
  <p class="text">{{ content.courtWillDecide | safe }}</p>

  <details>
    <summary aria-controls="details-content-0" aria-expanded="false">
      <span class="summary">{{ content.readMore }}</span>
    </summary>
    <div class="panel panel-border-narrow" id="details-content-0" aria-hidden="true">
      <p class="text">{{ content.shouldPayCosts }}</p>
      <p class="text">{{ content.divorceWillBeGranted }}</p>
      <p class="text">{{ content.rulesInFavour }}</p>
      <p class="text">{{ content.disputeTheCosts }}</p>
    </div>
  </details>

  <br>

  {% call formSection() %}
    {{ selectionButtons(fields.dnCosts.claimCosts, content.fields.dnCosts.title,
      options = [
        { label: content.fields.dnCosts.originalAmount, value: consts.originalAmount }
      ]
     ) }}

    {% if notExist(consts.respAgreeToCosts) %}
      {{ selectionButtons(fields.dnCosts.claimCosts, content.fields.dnCosts.title,
        options = [
         { label: content.fields.dnCosts.specificAmount, value: consts.specificAmount, target: "specific-amount" }
       ]
      ) }}
      <div id="specific-amount" class="js-hidden panel panel-border-narrow form-group {{ errorClass(fields.dnCosts.costsDifferentDetails) }}">
        <label class="form-label-bold"
              for="{{ fields.dnCosts.costsDifferentDetails.id }}">
          {{ content.fields.dnCosts.costsDifferentDetails.title }}
        </label>
        {{ errorsFor(fields.dnCosts.costsDifferentDetails) }}
        <textarea class="form-control"
          id="{{ fields.dnCosts.costsDifferentDetails.id }}"
          name="{{ fields.dnCosts.costsDifferentDetails.id }}"
          rows="4">{% if fields.dnCosts.costsDifferentDetails.value %}{{ fields.dnCosts.costsDifferentDetails.value }}{% endif %}</textarea>
      </div>
    {% endif %}

      {{ selectionButtons(fields.dnCosts.claimCosts, content.fields.dnCosts.title,
        options = [
          { label: content.fields.dnCosts.dontClaimDifferentAmount, value: consts.dontClaim }
        ]
      ) }}

  {% endcall %}
{% endblock %}
